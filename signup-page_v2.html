<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì›ê°€ì… - ì‚¬ì£¼ë¼ì¸</title>
    <link rel="stylesheet" href="css/common.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
            background-color: #0a0a0f;
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* í—¤ë” */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            height: 60px;
        }

        .back-button {
            width: 36px;
            height: 36px;
            border: none;
            background: transparent;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
        }

        .header-title {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18px;
            font-weight: 600;
        }

        /* ì§„í–‰ í‘œì‹œ */
        .progress-bar {
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 999;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #9333EA 0%, #B794F6 100%);
            transition: width 0.3s ease;
        }

        /* ë©”ì¸ ì½˜í…ì¸  */
        .main-content {
            margin-top: 64px;
            padding: 24px 20px 40px;
            max-width: 400px;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }

        /* ë‹¨ê³„ í‘œì‹œ */
        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 32px;
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: #B794F6;
            width: 24px;
            border-radius: 4px;
        }

        /* íšŒì›ê°€ì… í¼ */
        .signup-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-section {
            display: none;
        }

        .form-section.active {
            display: block;
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .section-subtitle {
            font-size: 15px;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 32px;
        }

        /* ì…ë ¥ ê·¸ë£¹ */
        .input-group {
            margin-bottom: 16px;
        }

        .input-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 8px;
        }

        .input-wrapper {
            position: relative;
        }

        .input-field {
            width: 100%;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            font-size: 16px;
            color: #ffffff;
            outline: none;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            border-color: rgba(147, 51, 234, 0.5);
            background: rgba(255, 255, 255, 0.08);
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .input-field.error {
            border-color: rgba(255, 59, 48, 0.5);
        }

        /* ì¸ì¦ ë²„íŠ¼ */
        .input-with-button {
            display: flex;
            gap: 8px;
        }

        .input-with-button .input-field {
            flex: 1;
        }

        .verify-button {
            padding: 16px 24px;
            background: rgba(147, 51, 234, 0.2);
            border: 1px solid rgba(147, 51, 234, 0.4);
            border-radius: 12px;
            color: #B794F6;
            font-size: 14px;
            font-weight: 600;
            cursor: not-allowed; /* ë¹„í™œì„±í™” ìƒíƒœ */
            opacity: 0.5;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        /* ë„ì›€ë§ í…ìŠ¤íŠ¸ */
        .help-text {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            margin-top: 4px;
        }

        .error-text {
            font-size: 12px;
            color: #FF6B6B;
            margin-top: 4px;
            display: none;
        }

        .error-text.show {
            display: block;
        }

        /* ì•½ê´€ ë™ì˜ */
        .terms-section {
            margin-top: 24px;
        }

        .terms-all {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px;
            background: rgba(147, 51, 234, 0.1);
            border: 1px solid rgba(147, 51, 234, 0.2);
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
        }

        .terms-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .terms-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .checkbox.checked {
            background: linear-gradient(135deg, #9333EA 0%, #7C3AED 100%);
            border-color: transparent;
        }

        .checkbox.checked::after {
            content: 'âœ“';
            color: white;
            font-size: 14px;
            font-weight: 700;
        }

        .terms-text {
            flex: 1;
            font-size: 14px;
        }

        .terms-link {
            color: #B794F6;
            text-decoration: none;
            font-size: 12px;
        }

        .required-badge {
            font-size: 12px;
            color: #FF6B6B;
            margin-left: 4px;
        }

        /* ë²„íŠ¼ */
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .prev-button {
            flex: 1;
            padding: 18px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .next-button {
            flex: 2;
            padding: 18px;
            background: linear-gradient(135deg, #9333EA 0%, #7C3AED 100%);
            border: none;
            border-radius: 16px;
            color: white;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(147, 51, 234, 0.4);
        }

        .button-group button:active {
            transform: scale(0.98);
        }

        .button-group button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* ì„±ë³„ ì„ íƒ */
        .gender-select {
            display: flex;
            gap: 12px;
        }

        .gender-option {
            flex: 1;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .gender-option.selected {
            background: rgba(147, 51, 234, 0.2);
            border-color: rgba(147, 51, 234, 0.4);
        }

        .gender-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .gender-label {
            font-size: 14px;
        }

        /* ìƒë…„ì›”ì¼ ì…ë ¥ */
        .birth-input {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .birth-field {
            flex: 1;
            text-align: center;
        }

        .birth-unit {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
        }

        /* ì™„ë£Œ í™”ë©´ */
        .completion-section {
            text-align: center;
            padding: 40px 0;
        }

        .completion-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 24px;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.2) 0%, rgba(76, 175, 80, 0.1) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        }

        .completion-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .completion-desc {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 32px;
        }

        .welcome-bonus {
            padding: 20px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 16px;
            margin-bottom: 24px;
        }

        .bonus-title {
            font-size: 18px;
            font-weight: 700;
            color: #FFD700;
            margin-bottom: 8px;
        }

        .bonus-desc {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 400px;
            background: #1a1a1f;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
        }

        .modal-close {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .modal-body {
            padding: 20px;
            max-height: 60vh;
            overflow-y: auto;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            line-height: 1.6;
        }

        .modal-body::-webkit-scrollbar {
            width: 6px;
        }

        .modal-body::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .modal-body::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <!-- í—¤ë” -->
    <header class="header">
        <div class="header-top">
            <button class="back-button" onclick="prevStep()">â†</button>
            <h1 class="header-title">íšŒì›ê°€ì…</h1>
        </div>
    </header>

    <!-- ì§„í–‰ í‘œì‹œ -->
    <div class="progress-bar">
        <div class="progress-fill" style="width: 25%"></div>
    </div>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main-content">
        <!-- ë‹¨ê³„ í‘œì‹œ -->
        <div class="step-indicator">
            <div class="step-dot active"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
        </div>

        <form class="signup-form">
            <!-- Step 1: ë‹‰ë„¤ì„/ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸/íœ´ëŒ€í° ì¸ì¦ (ê¸°ëŠ¥ ë¹„í™œì„±í™”) -->
            <div class="form-section active" id="step1">
                <h2 class="section-title">ê¸°ë³¸ ë¡œê·¸ì¸ ì •ë³´</h2>
                <p class="section-subtitle">ì´ìš©í•˜ì‹¤ ë‹‰ë„¤ì„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, íœ´ëŒ€í°ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>

                <div class="input-group">
                    <label class="input-label">ë‹‰ë„¤ì„</label>
                    <div class="input-wrapper">
                        <input type="text" class="input-field" placeholder="ì‚¬ìš©í•˜ì‹¤ ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" id="nickname">
                    </div>
                    <p class="error-text" id="nicknameError">ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                </div>

                <div class="input-group">
                    <label class="input-label">ì´ë©”ì¼</label>
                    <div class="input-wrapper">
                        <input type="email" class="input-field" placeholder="example@email.com" id="email">
                    </div>
                    <p class="error-text" id="emailError">ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                </div>

                <div class="input-group">
                    <label class="input-label">ë¹„ë°€ë²ˆí˜¸</label>
                    <div class="input-wrapper">
                        <input type="password" class="input-field" placeholder="8ì ì´ìƒ ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì í¬í•¨" id="password">
                    </div>
                    <p class="help-text">ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•´ 8ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                </div>

                <div class="input-group">
                    <label class="input-label">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                    <div class="input-wrapper">
                        <input type="password" class="input-field" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”" id="passwordConfirm">
                    </div>
                    <p class="error-text" id="passwordError">ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤</p>
                </div>

                <div class="input-group">
                    <label class="input-label">íœ´ëŒ€í° ë²ˆí˜¸</label>
                    <div class="input-with-button">
                        <input type="tel" class="input-field" placeholder="010-0000-0000" id="phone" maxlength="13" oninput="autoHyphen(this)">
                        <button type="button" class="verify-button" disabled>ì¸ì¦í•˜ê¸°</button>
                    </div>
                    <p class="error-text" id="phoneError">ì˜¬ë°”ë¥¸ íœ´ëŒ€í° ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
                </div>

                <div class="button-group">
                    <button type="button" class="next-button" onclick="nextStep()">ë‹¤ìŒ</button>
                </div>
            </div>

            <!-- Step 2: ì´ë¦„/ì„±ë³„/ìƒë…„ì›”ì¼ (ì„ íƒ) -->
            <div class="form-section" id="step2">
                <h2 class="section-title">ì¶”ê°€ ì •ë³´ (ì„ íƒ)</h2>
                <p class="section-subtitle">ì´ë¦„, ì„±ë³„, ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì‹œë©´ ë§ì¶¤ ì„œë¹„ìŠ¤ë¥¼ ì œê³µë°›ì„ ìˆ˜ ìˆì–´ìš”</p>

                <div class="input-group">
                    <label class="input-label">ì´ë¦„ (ì„ íƒ)</label>
                    <div class="input-wrapper">
                        <input type="text" class="input-field" placeholder="ì‹¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" id="name">
                    </div>
                </div>

                <div class="input-group">
                    <label class="input-label">ì„±ë³„ (ì„ íƒ)</label>
                    <div class="gender-select">
                        <div class="gender-option selected" data-gender="male">
                            <div class="gender-icon">ğŸ‘¨</div>
                            <div class="gender-label">ë‚¨ì„±</div>
                        </div>
                        <div class="gender-option" data-gender="female">
                            <div class="gender-icon">ğŸ‘©</div>
                            <div class="gender-label">ì—¬ì„±</div>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label class="input-label">ìƒë…„ì›”ì¼ (ì„ íƒ)</label>
                    <div class="birth-input">
                        <input type="number" class="input-field birth-field" placeholder="1990" id="birthYear" min="1900" max="2025">
                        <span class="birth-unit">ë…„</span>
                        <input type="number" class="input-field birth-field" placeholder="1" id="birthMonth" min="1" max="12">
                        <span class="birth-unit">ì›”</span>
                        <input type="number" class="input-field birth-field" placeholder="1" id="birthDay" min="1" max="31">
                        <span class="birth-unit">ì¼</span>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="prev-button" onclick="prevStep()">ì´ì „</button>
                    <button type="button" class="next-button" onclick="nextStep()">ë‹¤ìŒ</button>
                </div>
            </div>

            <!-- Step 3: ì•½ê´€ ë™ì˜ -->
            <div class="form-section" id="step3">
                <h2 class="section-title">ì•½ê´€ ë™ì˜</h2>
                <p class="section-subtitle">ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”</p>

                <div class="terms-section">
                    <div class="terms-all">
                        <div class="checkbox" id="agreeAll"></div>
                        <div class="terms-text">
                            <strong>ì „ì²´ ë™ì˜</strong>
                        </div>
                    </div>

                    <div class="terms-list">
                        <div class="terms-item">
                            <div class="checkbox terms-check" data-required="true"></div>
                            <div class="terms-text">
                                ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€ ë™ì˜
                                <span class="required-badge">(í•„ìˆ˜)</span>
                            </div>
                            <a href="#" class="terms-link" onclick="openTermsModal('service'); return false;">ë³´ê¸°</a>
                        </div>

                        <div class="terms-item">
                            <div class="checkbox terms-check" data-required="true"></div>
                            <div class="terms-text">
                                ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜
                                <span class="required-badge">(í•„ìˆ˜)</span>
                            </div>
                            <a href="#" class="terms-link" onclick="openTermsModal('privacy'); return false;">ë³´ê¸°</a>
                        </div>

                        <div class="terms-item">
                            <div class="checkbox terms-check" data-required="false"></div>
                            <div class="terms-text">
                                ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜
                                <span style="font-size: 12px; color: rgba(255,255,255,0.5);">(ì„ íƒ)</span>
                            </div>
                            <a href="#" class="terms-link" onclick="openTermsModal('marketing'); return false;">ë³´ê¸°</a>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" class="prev-button" onclick="prevStep()">ì´ì „</button>
                    <button type="button" class="next-button" onclick="completeSignup()">ê°€ì…ì™„ë£Œ</button>
                </div>
            </div>

            <!-- ì•½ê´€ ëª¨ë‹¬ -->
            <div class="modal" id="termsModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">ì•½ê´€ ìƒì„¸</h3>
                        <button class="modal-close" onclick="closeTermsModal()">Ã—</button>
                    </div>
                    <div class="modal-body">
                        <div id="termsContent"></div>
                    </div>
                </div>
            </div>

            <!-- ì™„ë£Œ í™”ë©´ -->
            <div class="form-section" id="completion">
                <div class="completion-section">
                    <div class="completion-icon">âœ…</div>
                    <h2 class="completion-title">íšŒì›ê°€ì… ì™„ë£Œ!</h2>
                    <p class="completion-desc">ì‚¬ì£¼ë¼ì¸ íšŒì›ì´ ë˜ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤</p>

                    <div class="welcome-bonus">
                        <div class="bonus-title">ğŸ ê°€ì… ì¶•í•˜ í˜œíƒ</div>
                        <div class="bonus-desc">
                            ì‹ ê·œ íšŒì›ë‹˜ê»˜ 1,000Pë¥¼ ì„ ë¬¼ë¡œ ë“œë ¸ìŠµë‹ˆë‹¤!<br>
                            ì²« ìƒë‹´ 10ë¶„ ë¬´ë£Œ ì¿ í°ë„ í™•ì¸í•´ë³´ì„¸ìš”.
                        </div>
                    </div>

                    <button type="button" class="next-button" onclick="goToLogin()">ë¡œê·¸ì¸í•˜ëŸ¬ ê°€ê¸°</button>
                </div>
            </div>
        </form>
    </main>

    <script>
        let currentStep = 1;
        const totalSteps = 3; // ì•½ê´€ ë™ì˜ê¹Œì§€ 3ë‹¨ê³„, ì™„ë£Œ í™”ë©´ì€ ë³„ë„

        // ë‹¤ìŒ ë‹¨ê³„
        function nextStep() {
            if (currentStep === 1) {
                const nickname = document.getElementById('nickname').value.trim();
                const email = document.getElementById('email').value.trim();
                const pw = document.getElementById('password').value;
                const pwConfirm = document.getElementById('passwordConfirm').value;
                const phone = document.getElementById('phone').value.trim();

                // ë‹‰ë„¤ì„ ê²€ì¦
                if (!nickname) {
                    document.getElementById('nicknameError').textContent = 'ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”';
                    document.getElementById('nicknameError').classList.add('show');
                    return;
                } else {
                    document.getElementById('nicknameError').classList.remove('show');
                }

                // ì´ë©”ì¼ ê²€ì¦
                if (!email) {
                    document.getElementById('emailError').textContent = 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”';
                    document.getElementById('emailError').classList.add('show');
                    return;
                } else {
                    document.getElementById('emailError').classList.remove('show');
                }

                // ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
                if (pw.length < 8) {
                    document.getElementById('passwordError').textContent = 'ë¹„ë°€ë²ˆí˜¸ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤';
                    document.getElementById('passwordError').classList.add('show');
                    return;
                } else {
                    document.getElementById('passwordError').classList.remove('show');
                }
                if (pw !== pwConfirm) {
                    document.getElementById('passwordError').textContent = 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤';
                    document.getElementById('passwordError').classList.add('show');
                    return;
                }

                // íœ´ëŒ€í° ë²ˆí˜¸ í˜•ì‹ ì²´í¬
                if (!phone || phone.length < 10) {
                    document.getElementById('phoneError').classList.add('show');
                    return;
                } else {
                    document.getElementById('phoneError').classList.remove('show');
                }
            }

            // ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™
            if (currentStep < totalSteps) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
                updateStepIndicator();
            }
        }

        // ì´ì „ ë‹¨ê³„
        function prevStep() {
            if (currentStep > 1) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep--;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
                updateStepIndicator();
            }
        }

        // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.querySelector('.progress-fill').style.width = `${progress}%`;
        }

        // ë‹¨ê³„ í‘œì‹œ ì—…ë°ì´íŠ¸
        function updateStepIndicator() {
            document.querySelectorAll('.step-dot').forEach((dot, index) => {
                if (index < currentStep) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        // ì„±ë³„ ì„ íƒ
        document.querySelectorAll('.gender-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.gender-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
            });
        });

        // ì „ì²´ ë™ì˜ / ê°œë³„ ë™ì˜
        document.getElementById('agreeAll').addEventListener('click', function() {
            const isChecked = this.classList.contains('checked');
            if (!isChecked) {
                this.classList.add('checked');
                document.querySelectorAll('.terms-check').forEach(check => {
                    check.classList.add('checked');
                });
            } else {
                this.classList.remove('checked');
                document.querySelectorAll('.terms-check').forEach(check => {
                    check.classList.remove('checked');
                });
            }
        });

        document.querySelectorAll('.terms-check').forEach(check => {
            check.addEventListener('click', function() {
                this.classList.toggle('checked');
                const allChecked = Array.from(document.querySelectorAll('.terms-check')).every(c => c.classList.contains('checked'));
                if (allChecked) {
                    document.getElementById('agreeAll').classList.add('checked');
                } else {
                    document.getElementById('agreeAll').classList.remove('checked');
                }
            });
        });

        // íšŒì›ê°€ì… ì™„ë£Œ
        function completeSignup() {
            // í•„ìˆ˜ ì•½ê´€ ì²´í¬ í™•ì¸
            const requiredTerms = document.querySelectorAll('.terms-check[data-required="true"]');
            const allRequiredChecked = Array.from(requiredTerms).every(term => term.classList.contains('checked'));
            if (!allRequiredChecked) {
                alert('í•„ìˆ˜ ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ê°€ì… ì™„ë£Œ í™”ë©´ìœ¼ë¡œ ì´ë™
            document.getElementById('step3').classList.remove('active');
            document.getElementById('completion').classList.add('active');
            document.querySelector('.progress-fill').style.width = '100%';
            document.querySelector('.step-indicator').style.display = 'none';
            document.querySelector('.header-title').textContent = 'ê°€ì… ì™„ë£Œ';
            document.querySelector('.back-button').style.display = 'none';

            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ ì„œë²„ì— ê°€ì… ì •ë³´ ì „ì†¡
        }

        // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
        function goToLogin() {
            window.location.href = 'login-page.html';
        }

        // íœ´ëŒ€í° ë²ˆí˜¸ ìë™ í•˜ì´í”ˆ ì¶”ê°€
        function autoHyphen(target) {
            target.value = target.value
                .replace(/[^0-9]/g, '')
                .replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g, "$1-$2-$3")
                .replace(/(\-{1,2})$/g, "");
        }

        // ì•½ê´€ ëª¨ë‹¬ ê´€ë ¨ í•¨ìˆ˜
        function openTermsModal(type) {
            const modal = document.getElementById('termsModal');
            const content = document.getElementById('termsContent');

            let termsContent = '';
            switch(type) {
                case 'service':
                    termsContent = `
                        <h4>ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</h4>
                        <p>ì œ1ì¡° (ëª©ì )</p>
                        <p>ì´ ì•½ê´€ì€ ì‚¬ì£¼ë¼ì¸(ì´í•˜ "íšŒì‚¬")ì´ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ì˜ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì‚¬ì™€ íšŒì› ê°„ì˜ ê¶Œë¦¬, ì˜ë¬´ ë° ì±…ì„ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
                        <p>ì œ2ì¡° (ì •ì˜)</p>
                        <p>1. "ì„œë¹„ìŠ¤"ë€ íšŒì‚¬ê°€ ì œê³µí•˜ëŠ” ëª¨ë“  ì„œë¹„ìŠ¤ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.</p>
                        <p>2. "íšŒì›"ì´ë€ íšŒì‚¬ì™€ ì„œë¹„ìŠ¤ ì´ìš©ê³„ì•½ì„ ì²´ê²°í•œ ìë¥¼ ë§í•©ë‹ˆë‹¤.</p>
                        <p>ì œ3ì¡° (ì„œë¹„ìŠ¤ì˜ ì œê³µ)</p>
                        <p>íšŒì‚¬ëŠ” íšŒì›ì—ê²Œ ì•„ë˜ì™€ ê°™ì€ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
                        <p>1. ì‚¬ì£¼ ìƒë‹´ ì„œë¹„ìŠ¤</p>
                        <p>2. ìš´ì„¸ ë¶„ì„ ì„œë¹„ìŠ¤</p>
                        <p>3. ê¸°íƒ€ íšŒì‚¬ê°€ ì •í•˜ëŠ” ì„œë¹„ìŠ¤</p>
                    `;
                    break;
                case 'privacy':
                    termsContent = `
                        <h4>ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜</h4>
                        <p>1. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©</p>
                        <p>- í•„ìˆ˜í•­ëª©: ë‹‰ë„¤ì„, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, íœ´ëŒ€í°ë²ˆí˜¸</p>
                        <p>- ì„ íƒí•­ëª©: ì´ë¦„, ì„±ë³„, ìƒë…„ì›”ì¼</p>
                        <p>2. ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš©ëª©ì </p>
                        <p>- íšŒì› ê´€ë¦¬ ë° ì„œë¹„ìŠ¤ ì œê³µ</p>
                        <p>- ìƒë‹´ ë° ë¬¸ì˜ ì‘ëŒ€</p>
                        <p>3. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš©ê¸°ê°„</p>
                        <p>- íšŒì› íƒˆí‡´ ì‹œê¹Œì§€</p>
                    `;
                    break;
                case 'marketing':
                    termsContent = `
                        <h4>ë§ˆì¼€íŒ… ì •ë³´ ìˆ˜ì‹  ë™ì˜</h4>
                        <p>1. ë§ˆì¼€íŒ… í™œìš© ëª©ì </p>
                        <p>- ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ ë° ì´ë²¤íŠ¸ ì •ë³´ ì œê³µ</p>
                        <p>- ì„œë¹„ìŠ¤ ì´ìš©ì— ëŒ€í•œ í†µê³„ ë¶„ì„</p>
                        <p>2. ë§ˆì¼€íŒ… í™œìš© í•­ëª©</p>
                        <p>- ì´ë©”ì¼, íœ´ëŒ€í°ë²ˆí˜¸</p>
                        <p>3. ë³´ìœ  ë° ì´ìš©ê¸°ê°„</p>
                        <p>- ë™ì˜ ì² íšŒ ì‹œê¹Œì§€</p>
                    `;
                    break;
            }

            content.innerHTML = termsContent;
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeTermsModal() {
            const modal = document.getElementById('termsModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('termsModal');
            if (event.target == modal) {
                closeTermsModal();
            }
        }
    </script>
</body>
</html>