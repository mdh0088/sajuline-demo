<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì±„íŒ… ëª©ë¡ - ì‚¬ì£¼ë¼ì¸</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
      background-color: #0a0a0f;
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 80px 0 80px 0;
      flex: 1;
      width: 100%;
    }
    /* í—¤ë” */
    .header {
      position: fixed; top: 0; left: 0; right: 0;
      background: rgba(10, 10, 15, 0.95);
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      z-index: 1000;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    .header-top {
      display: flex; justify-content: space-between; align-items: center;
      padding: 16px 20px; height: 60px;
    }
    .header-title {
      font-size: 20px; font-weight: 800;
      background: linear-gradient(135deg, #B794F6 0%, #9F7AEA 50%, #805AD5 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-fill-color: transparent;
    }
    .header-actions { display: flex; gap: 8px; align-items: center; }
    .icon-btn {
      width: 36px; height: 36px; border: none;
      background: rgba(255,255,255,0.05); color: #fff;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; border-radius: 12px;
      transition: all 0.3s ease; font-size: 18px;
    }
    .icon-btn:active { transform: scale(0.95); background: rgba(255,255,255,0.1); }
    /* ê²€ìƒ‰ë°” */
    .search-bar { margin: 0 20px 24px 20px; display: flex; }
    .search-input {
      flex: 1; padding: 12px 16px; background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px 0 0 16px;
      color: #fff; font-size: 16px; outline: none;
      transition: all 0.2s;
    }
    .search-input:focus { border-color: #B794F6; background: rgba(255,255,255,0.08); }
    .search-btn {
      padding: 0 20px; background: linear-gradient(135deg, #9333EA 0%, #7C3AED 100%);
      border: none; border-radius: 0 16px 16px 0; color: #fff; font-weight: 700;
      font-size: 16px; cursor: pointer; transition: background 0.2s;
    }
    .search-btn:hover, .search-btn:focus { background: linear-gradient(135deg, #7C3AED 0%, #9333EA 100%); }
    .section-title {
      font-size: 15px; color: #B794F6; margin: 24px 0 10px 24px; font-weight: 700;
    }
    .chat-list { display: flex; flex-direction: column; gap: 12px; margin: 0 20px; }
    .chat-item {
      display: flex; align-items: center; padding: 18px 16px; background: #181824;
      border-radius: 16px; box-shadow: 0 2px 8px rgba(147,51,234,0.08);
      transition: background 0.2s, box-shadow 0.2s, transform 0.2s;
      cursor: pointer; position: relative;
      border: 1px solid rgba(255,255,255,0.07);
    }
    .chat-item:hover, .chat-item:focus {
      background: #232336;
      box-shadow: 0 4px 16px rgba(147,51,234,0.12);
      transform: translateY(-2px) scale(1.01);
      outline: none;
    }
    .pinned { /* ê°•ì¡°ì„  ì™„ì „ ì œê±° */ border-left: none !important; }
    .avatar {
      width: 48px; height: 48px; border-radius: 14px; background: linear-gradient(135deg, rgba(147,51,234,0.15) 0%, rgba(124,58,237,0.10) 100%);
      display: flex; align-items: center; justify-content: center; font-size: 22px;
      flex-shrink: 0; margin-right: 14px;
      box-shadow: 0 2px 8px rgba(147,51,234,0.08);
    }
    .chat-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-width: 0;
    }
    .chat-name {
      font-size: 16px;
      font-weight: 600;
      color: #fff;
      margin-bottom: 2px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .chat-preview {
      font-size: 15px;
      color: #bfc4d1;
      margin-bottom: 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .chat-meta {
      display: flex;
      align-items: center;
      justify-content: flex-end;
      gap: 6px;
      margin-top: 6px;
      font-size: 13px;
      color: #B794F6;
      min-width: 0;
    }
    .chat-time {
      font-size: 13px;
      color: #B794F6;
      white-space: nowrap;
    }
    .unread-badge {
      background: #FF3B30;
      color: #fff;
      font-size: 12px;
      font-weight: 700;
      padding: 2px 8px;
      border-radius: 12px;
      margin-left: 4px;
      box-shadow: 0 1px 4px rgba(255,59,48,0.15);
      display: inline-block;
    }
    .chat-info > .chat-meta {
      align-self: flex-end;
    }
    /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ */
    .bottom-nav {
      position: fixed; bottom: 0; left: 0; right: 0; height: 64px;
      background: rgba(10,10,15,0.95); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
      box-shadow: 0 -2px 12px rgba(147,51,234,0.08);
      display: flex; justify-content: space-around; align-items: center;
      border-top: 1px solid rgba(255,255,255,0.07); z-index: 1000;
    }
    .nav-item {
      display: flex; flex-direction: column; align-items: center; color: #bfc4d1; font-size: 12px; font-weight: 500;
      text-decoration: none; padding: 4px 0; transition: color 0.2s;
    }
    .nav-item.active { color: #B794F6; font-weight: 700; }
    .nav-item span:first-child { font-size: 22px; margin-bottom: 2px; }
    /* ë°˜ì‘í˜• */
    @media (max-width: 600px) {
      .container { padding: 70px 0 70px 0; }
      .header-top { padding: 10px 10px; height: 52px; }
      .header-title { font-size: 17px; }
      .icon-btn { width: 32px; height: 32px; font-size: 16px; }
      .bottom-nav { height: 56px; }
      .nav-item span:first-child { font-size: 18px; }
      .avatar { width: 40px; height: 40px; font-size: 18px; }
      .chat-item { padding: 12px 8px; }
    }
    .sort-buttons {
      display: flex;
      gap: 8px;
      margin: 0 20px 12px 20px;
    }
    .sort-btn {
      background: rgba(255, 255, 255, 0.05);
      border: none;
      border-radius: 8px;
      padding: 8px 14px;
      color: rgba(255, 255, 255, 0.7);
      font-size: 13px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .sort-btn:hover {
      background: rgba(147, 51, 234, 0.1);
      color: #fff;
    }
    .sort-btn.active {
      background: linear-gradient(90deg, #9333EA 0%, #B794F6 100%);
      color: #fff;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-top">
      <div class="header-title">ì±„íŒ…</div>
      <div class="header-actions">
        <button class="icon-btn" aria-label="ìƒˆ ì±„íŒ…">âœï¸</button>
        <button class="icon-btn" aria-label="ì„¤ì •">âš™ï¸</button>
      </div>
    </div>
  </header>
  <main class="container">
    <form class="search-bar" onsubmit="event.preventDefault(); /* ê²€ìƒ‰ ë¡œì§ */">
      <input type="text" class="search-input" placeholder="ëŒ€í™” ìƒëŒ€ ê²€ìƒ‰" aria-label="ëŒ€í™” ìƒëŒ€ ê²€ìƒ‰" />
      <button class="search-btn" type="submit">ê²€ìƒ‰</button>
    </form>
    <div class="sort-buttons">
      <button class="sort-btn active" data-sort="latest">ìµœì‹ ìˆœ</button>
      <button class="sort-btn" data-sort="name">ì´ë¦„ìˆœ</button>
      <button class="sort-btn" data-sort="unread">ì•ˆì½ì€ìˆœ</button>
    </div>
    <div class="section-title">ê³ ì •ëœ ì±„íŒ…</div>
    <div class="chat-list" id="pinnedList">
      <div class="chat-item pinned" tabindex="0">
        <div class="avatar" aria-label="ê¹€ì§€ì€ ìƒë‹´ì‚¬">ğŸ‘©</div>
        <div class="chat-info">
          <div class="chat-name">ê¹€ì§€ì€ ìƒë‹´ì‚¬</div>
          <div class="chat-preview">ğŸ‘ ì•ˆë…•í•˜ì„¸ìš”! ì˜¤ëŠ˜ ìƒë‹´ ì–´ë– ì…¨ë‚˜ìš”?</div>
          <div class="chat-meta">
            <span class="chat-time">10:24</span>
            <span class="unread-badge">3</span>
          </div>
        </div>
      </div>
      <div class="chat-item pinned" tabindex="0">
        <div class="avatar online" aria-label="ë°•ì¤€í˜„ ìƒë‹´ì‚¬">ğŸ‘¨</div>
        <div class="chat-info">
          <div class="chat-name">ë°•ì¤€í˜„ ìƒë‹´ì‚¬</div>
          <div class="chat-preview">ê¶ê¸ˆí•˜ì‹  ì  ìˆìœ¼ë©´ ì–¸ì œë“  ë¬¼ì–´ë³´ì„¸ìš”.</div>
          <div class="chat-meta">
            <span class="chat-time">ì–´ì œ</span>
          </div>
        </div>
      </div>
    </div>
    <div class="section-title">ì „ì²´ ì±„íŒ…</div>
    <div class="chat-list" id="chatList">
      <div class="chat-item" tabindex="0">
        <div class="avatar" aria-label="ì´ì†Œë¯¼ ìƒë‹´ì‚¬">ğŸ‘¤</div>
        <div class="chat-info">
          <div class="chat-name">ì´ì†Œë¯¼ ìƒë‹´ì‚¬</div>
          <div class="chat-preview">íƒ€ë¡œ ê²°ê³¼ë¥¼ ì •ë¦¬í•´ë“œë ¸ì–´ìš”.</div>
          <div class="chat-meta">
            <span class="chat-time">ì›”ìš”ì¼</span>
          </div>
        </div>
      </div>
      <div class="chat-item" tabindex="0">
        <div class="avatar" aria-label="ìµœë¯¼ìˆ˜ ìƒë‹´ì‚¬">ğŸ§‘â€ğŸ¦°</div>
        <div class="chat-info">
          <div class="chat-name">ìµœë¯¼ìˆ˜ ìƒë‹´ì‚¬</div>
          <div class="chat-preview">ë„¤, ë‹¤ì‹œ ë¶„ì„í•´ë“œë¦´ê²Œìš”.</div>
          <div class="chat-meta">
            <span class="chat-time">6/18</span>
          </div>
        </div>
      </div>
    </div>
  </main>
  <nav class="bottom-nav">
    <a href="main.html" class="nav-item"><span>ğŸ </span><span>í™ˆ</span></a>
    <a href="#" class="nav-item active"><span>ğŸ’¬</span><span>ì±„íŒ…</span></a>
    <a href="favorite.html" class="nav-item"><span>â­</span><span>ì¦ê²¨ì°¾ê¸°</span></a>
    <a href="mypage.html" class="nav-item"><span>ğŸ‘¤</span><span>ë§ˆì´</span></a>
  </nav>
  <script>
    // ì •ë ¬ ë²„íŠ¼ ìŠ¤íƒ€ì¼
    document.querySelectorAll('.sort-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.sort-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        sortChatList(this.dataset.sort);
      });
    });

    // ì±„íŒ… ë°ì´í„° ì¶”ì¶œ (DOM ê¸°ë°˜)
    function getChatData(listId) {
      const list = document.getElementById(listId);
      return Array.from(list.children).map(item => {
        const name = item.querySelector('.chat-name')?.textContent.trim() || '';
        const time = item.querySelector('.chat-time')?.textContent.trim() || '';
        const unread = parseInt(item.querySelector('.unread-badge')?.textContent.trim() || '0', 10);
        return { item, name, time, unread };
      });
    }

    // ì‹œê°„ íŒŒì‹±(ê°„ë‹¨, ì‹¤ì œ ì„œë¹„ìŠ¤ëŠ” timestamp í•„ìš”)
    function parseTime(str) {
      if (str.includes('ì˜¤ì „') || str.includes('ì˜¤í›„')) {
        // ì˜ˆ: ì˜¤ì „ 10:24, ì˜¤í›„ 3:12
        let [ampm, hm] = str.split(' ');
        let [h, m] = hm.split(':').map(Number);
        if (ampm === 'ì˜¤í›„' && h < 12) h += 12;
        if (ampm === 'ì˜¤ì „' && h === 12) h = 0;
        return h * 60 + m;
      }
      if (str === 'ì–´ì œ') return -1; // ì–´ì œëŠ” ìµœì‹ ìˆœì—ì„œ ë’¤ë¡œ
      if (str === 'ì›”ìš”ì¼') return -2; // ì˜ˆì‹œ
      if (/\d{1,2}\/\d{1,2}/.test(str)) return -3; // ë‚ ì§œ(6/18 ë“±)
      return -99;
    }

    function sortChatList(type) {
      const list = document.getElementById('chatList');
      let data = getChatData('chatList');
      if (type === 'latest') {
        data.sort((a, b) => parseTime(b.time) - parseTime(a.time));
      } else if (type === 'name') {
        data.sort((a, b) => a.name.localeCompare(b.name, 'ko'));
      } else if (type === 'unread') {
        data.sort((a, b) => b.unread - a.unread || parseTime(b.time) - parseTime(a.time));
      }
      // ì •ë ¬ ë°˜ì˜
      data.forEach(d => list.appendChild(d.item));
    }
  </script>
</body>
</html>
